EXPORT FOR TEMPERATURE AND HUMIDITY NODE RED

[{"id":"44d48fcb.ac695","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"9abe0993.a0deb8","type":"inject","z":"44d48fcb.ac695","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":308,"y":74,"wires":[["ad4cc714.87f638"]]},{"id":"ad4cc714.87f638","type":"rpi-dht22","z":"44d48fcb.ac695","name":"DHT11","topic":"rpi-dht11","dht":"11","pintype":"0","pin":4,"x":487,"y":339,"wires":[["3986045b.d0821c","dbaae37f.5fec3"]]},{"id":"3986045b.d0821c","type":"debug","z":"44d48fcb.ac695","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":809,"y":72,"wires":[]},{"id":"1c8dd3f8.ad368c","type":"http in","z":"44d48fcb.ac695","name":"","url":"/temperature","method":"get","upload":false,"swaggerDoc":"","x":313,"y":346,"wires":[["ad4cc714.87f638"]]},{"id":"aa69cb57.e8ddc8","type":"http response","z":"44d48fcb.ac695","name":"","statusCode":"","headers":{},"x":865,"y":547,"wires":[]},{"id":"c9c3015b.a60ec","type":"change","z":"44d48fcb.ac695","name":"Set Headers","rules":[{"t":"set","p":"headers","pt":"msg","to":"{}","tot":"json"},{"t":"set","p":"headers.content-type","pt":"msg","to":"application/json","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":696.71435546875,"y":546.4285278320312,"wires":[["aa69cb57.e8ddc8"]]},{"id":"dbaae37f.5fec3","type":"function","z":"44d48fcb.ac695","name":"DHT11","func":"msg.payload = {temperature: msg.payload, humidity: msg.humidity}\nreturn msg;","outputs":1,"noerr":0,"x":517,"y":433,"wires":[["92d758b2.8d5fc8"]]},{"id":"92d758b2.8d5fc8","type":"json","z":"44d48fcb.ac695","name":"","property":"payload","action":"str","pretty":true,"x":671,"y":450,"wires":[["c9c3015b.a60ec"]]}]









### Yellow Light and White Light


[{"id":"e6f35e95.16987","type":"tab","label":"Flow 5","disabled":false,"info":""},{"id":"e81ad47.12b7e28","type":"http in","z":"e6f35e95.16987","name":"","url":"/yellow-light","method":"get","upload":false,"swaggerDoc":"","x":115.71429443359375,"y":107.14285469055176,"wires":[["901650d3.36298"]]},{"id":"5523ee98.c5789","type":"arduino out","z":"e6f35e95.16987","name":"","pin":"11","state":"OUTPUT","arduino":"6d8ead17.df7384","x":757.1428527832031,"y":105.71427631378174,"wires":[]},{"id":"901650d3.36298","type":"function","z":"e6f35e95.16987","name":"toggleYellowLight","func":"\n// If it does exist make it the inverse of what it was or else initialise it to false\n// (context variables persist between calls to the function)\ncontext.level = !context.level || false;\n\n// set the payload to the level and return\nmsg.payload = context.level;\nreturn msg;","outputs":1,"noerr":0,"x":338.9285659790039,"y":107.14285182952881,"wires":[["5523ee98.c5789","300c4abb.dd1036"]]},{"id":"31e32a39.56cb06","type":"http in","z":"e6f35e95.16987","name":"","url":"/white-light","method":"get","upload":false,"swaggerDoc":"","x":121.28571319580078,"y":463.7142868041992,"wires":[["726ba771.c20ea8"]]},{"id":"726ba771.c20ea8","type":"function","z":"e6f35e95.16987","name":"toggleWhiteLight","func":"\n// If it does exist make it the inverse of what it was or else initialise it to false\n// (context variables persist between calls to the function)\ncontext.level = !context.level || false;\n\n// set the payload to the level and return\nmsg.payload = context.level;\nreturn msg;","outputs":1,"noerr":0,"x":332.14286041259766,"y":465.14286708831787,"wires":[["737ea95d.a9f278","1e994a1f.fa4f96"]]},{"id":"737ea95d.a9f278","type":"arduino out","z":"e6f35e95.16987","name":"","pin":"12","state":"OUTPUT","arduino":"6d8ead17.df7384","x":792.5714263916016,"y":461.28572845458984,"wires":[]},{"id":"1e994a1f.fa4f96","type":"change","z":"e6f35e95.16987","name":"setPayloadWhite","rules":[{"t":"set","p":"toggleWhiteLight","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":144.28571319580078,"y":545.7142381668091,"wires":[["36d43748.237258"]]},{"id":"178c67f8.aa5e28","type":"http response","z":"e6f35e95.16987","name":"","statusCode":"","headers":{},"x":911.4287147521973,"y":537.1429080963135,"wires":[]},{"id":"36d43748.237258","type":"change","z":"e6f35e95.16987","name":"setToggleWhite","rules":[{"t":"set","p":"toggleWhiteLight","pt":"msg","to":"toggleWhiteLight","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":361.4286117553711,"y":547.142813205719,"wires":[["1afba142.d7f61f"]]},{"id":"1afba142.d7f61f","type":"template","z":"e6f35e95.16987","name":"JSON White Light","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{{toggleWhiteLight}}","output":"str","x":569.9999771118164,"y":537.1429347991943,"wires":[["c8bdb0af.a8d05"]]},{"id":"c8bdb0af.a8d05","type":"change","z":"e6f35e95.16987","name":"Set Headers","rules":[{"t":"set","p":"headers","pt":"msg","to":"{}","tot":"json"},{"t":"set","p":"headers.content-type","pt":"msg","to":"application/json","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":758.5714416503906,"y":537.142900466919,"wires":[["178c67f8.aa5e28"]]},{"id":"300c4abb.dd1036","type":"change","z":"e6f35e95.16987","name":"setPayloadYellow","rules":[{"t":"set","p":"toggleYellowLight","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":139.99999618530273,"y":184.28571701049805,"wires":[["79cb0b7b.2597b4"]]},{"id":"95f8762d.7d9658","type":"http response","z":"e6f35e95.16987","name":"","statusCode":"","headers":{},"x":882.857177734375,"y":177.14295959472656,"wires":[]},{"id":"79cb0b7b.2597b4","type":"change","z":"e6f35e95.16987","name":"setToggleYellow","rules":[{"t":"set","p":"toggleYellowLight","pt":"msg","to":"toggleYellowLight","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":324.2857437133789,"y":184.28573989868164,"wires":[["dd7dfdf6.013fe"]]},{"id":"dd7dfdf6.013fe","type":"template","z":"e6f35e95.16987","name":"JSON Yellow Light","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{{toggleYellowLight}}","output":"str","x":512.8571434020996,"y":180.0000991821289,"wires":[["41329dcd.61b9f4"]]},{"id":"41329dcd.61b9f4","type":"change","z":"e6f35e95.16987","name":"Set Headers","rules":[{"t":"set","p":"headers","pt":"msg","to":"{}","tot":"json"},{"t":"set","p":"headers.content-type","pt":"msg","to":"application/json","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":708.5714721679688,"y":181.42865180969238,"wires":[["95f8762d.7d9658"]]},{"id":"6d8ead17.df7384","type":"arduino-board","z":"","device":"/dev/ttyACM0"}]